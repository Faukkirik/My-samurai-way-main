"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[445],{5445:function(t,s,e){e.r(s),e.d(s,{default:function(){return B}});var i=e(1413),r=e(5671),n=e(3144),a=e(136),o=e(5716),u=e(2791),c="Profile_content__4VOlC",d="ProfileInfo_descriptionBlock__+5+Qa",l=e(80),p=e(885),h=e(184),f=function(t){var s=(0,u.useState)(!1),e=(0,p.Z)(s,2),i=e[0],r=e[1],n=(0,u.useState)(t.status),a=(0,p.Z)(n,2),o=a[0],c=a[1];(0,u.useEffect)((function(){c(t.status)}),[t.status]);return(0,h.jsxs)("div",{children:[!i&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"------"})}),i&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(o)},onChange:function(t){c(t.currentTarget.value)},value:o})})]})},j=function(t){var s=t.profile,e=t.status,i=t.updateStatus;return s?(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("img",{src:s.photos.large?s.photos.large:"",alt:"hey"}),(0,h.jsx)("div",{children:s.fullName}),(0,h.jsx)("div",{children:s.aboutMe}),(0,h.jsx)("div",{children:(0,h.jsxs)("a",{href:s.contacts.facebook,children:["facebook - ",s.contacts.facebook]})}),(0,h.jsx)("div",{children:(0,h.jsxs)("a",{href:s.contacts.twitter,children:["twitter - ",s.contacts.twitter]})}),(0,h.jsx)(f,{status:e,updateStatus:i})]})}):(0,h.jsx)(l.p,{})},x=e(2457),m="MyPosts_postBlock__HNXuE",v="MyPosts_posts__tayyR",g="Post_item__iUalj",k=function(t){return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("img",{src:"https://cdnb.artstation.com/p/assets/images/images/015/522/597/large/kittichai-reaungchaichan-razaras-dr-dota2.jpg?1548682919",alt:"LOW"}),t.message,(0,h.jsxs)("div",{children:["Like ",t.likeCount]})]})})},_=e(6139),P=e(704),S=e(3079),b=e(1117),y=u.memo((function(t){return(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(N,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,h.jsx)("div",{className:v,children:t.post.map((function(t){return(0,h.jsx)(k,{message:t.message,likeCount:t.likeCount,id:t.id},t.id)}))})]})})),C=(0,S.D)(10);var N=(0,P.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,h.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(_.Z,{name:"newPostText",component:b.gx,placeholder:"post message",validate:[S.C,C]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),w=e(364),Z=(0,w.$j)((function(t){return{post:t.profileReducer.post}}),(function(t){return{addPost:function(s){t((0,x.hB)(s))}}}))(y),R=function(t){return(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)(j,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(Z,{onPostChange:t.newPostText})]})},M=e(9271),U=e(7781),A=function(t){(0,a.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=Number(this.props.match.params.userId);t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,h.jsx)("div",{className:c,children:(0,h.jsx)(R,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(u.Component),B=(0,U.qC)((0,w.$j)((function(t){return{profile:t.profileReducer.profile,status:t.profileReducer.status,authorizedUserId:t.authReducer.id,isAuth:t.authReducer.isAuth}}),{getUserProfile:x.et,getStatus:x.lR,updateStatus:x.Nf}),M.EN)(A)}}]);
//# sourceMappingURL=445.a04b7f54.chunk.js.map